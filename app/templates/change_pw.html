{% extends "layout.html" %}
{% block title %}Login{% endblock %}
{% block content %}
<div class="border border-slate-900/10">
  <div class="bg-white py-4 px-6 flex items-center relative">
    <h1 class="text-2xl font-semibold mx-auto text-slate-700">Change Password</h1>
  </div>
</div>
<div class="p-6 font-semibold text-slate-700 border-x border-slate-900/10">
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  {% for category, message in messages %}
  <div class="flash-{{ category }}">{{ message }}</div>
  {% endfor %}
  {% endif %}
  {% endwith %}
  <form method="POST" action="{{ url_for('user.change_password') }}">
    {{ form.hidden_tag() }}
    <div class="py-4">
      {{ form.old_password.label }}<br>
      {{ form.old_password(class_="w-full p-4 rounded-lg border border-slate-900/10", size=32) }}<br>
      {% for error in form.new_password.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>
    <div class="py-4">
      {{ form.new_password.label }}<br>
      {{ form.new_password(class_="w-full p-4 rounded-lg border border-slate-900/10", size=32) }}<br>
      {% for error in form.new_password.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>
    <div class="py-4">
      {{ form.confirm_password.label }}<br>
      {{ form.confirm_password(class_="w-full p-4 rounded-lg border border-slate-900/10", size=32) }}<br>
      {% for error in form.confirm_password.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>

    <div class="py-4">
      {{ form.submit(class_="w-full bg-slate-900 text-slate-100 p-4 text-center rounded-lg border border-slate-900/10
      shadow-md transition duration-200 ease-in-out transform active:bg-slate-600 active:scale-90")
      }}
    </div>
  </form>
</div>
{% endblock %}